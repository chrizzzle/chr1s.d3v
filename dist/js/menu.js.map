{"version":3,"sources":["projects/slide-menu/src/js/menu.js"],"names":["shownMenu","menuButtons","_toConsumableArray","document","querySelectorAll","backButton","querySelector","toggleButton","toggleButtonIcon","offCanvas","rootMenuLevel","title","level","handleButtonClick","childMenu","event","currentTarget","parentElement","closest","classList","remove","style","transform","concat","handleBackClick","handleToggleClick","add","hideAfterTransition","parentMenu","contains","setAttribute","removeEventListener","innerHTML","addEventListener","forEach","menuButton"],"mappings":"69BAAA,IAQIA,UAREC,YAAWC,mBAAOC,SAASC,iBAAiB,4BAC5CC,WAAaF,SAASG,cAAc,gBACpCC,aAAeJ,SAASG,cAAc,kBACtCE,iBAAmBL,SAASG,cAAc,uBAC1CG,UAAYN,SAASG,cAAc,UACnCI,cAAgBP,SAASG,cAAc,qBACvCK,MAAQR,SAASG,cAAc,iBACjCM,MAAQ,EAGNC,kBAAoB,WACxB,IAAMC,EAAYC,MAAMC,cAAcC,cACnCC,QAAQ,oBACRZ,cAAc,eAEZQ,GAVPF,QACAE,EAAcX,UAASG,OAAAA,sBACvBD,WAAAc,UAAAC,OAAA,uBACAV,cAAAW,MAAAC,UAAA,aAAAC,QAAA,IAAAX,MAAA,SAgBEZ,UAAYc,GAvBRT,qBA0BAmB,gBAAkB,WAZtB,IAAKV,EAAWd,UAAAiB,cAAAC,QAAA,eAwBhBN,MAAgB,EAARA,MAAYA,MAAQ,EAAIA,MAZlCF,cAAMc,iBAAAA,gBAXe,SAAjBC,IACAb,OAAA,GACDP,WAAAc,UAAAO,IAAA,uBAEDd,UAAKO,UAAAO,IAAA,sBAELrB,cAAWc,oBAAiB,gBAA5BQ,GACAjB,UAAcW,IAKdO,EAAMA,UAAa5B,OAAUiB,sBAc7BP,cAAcW,MAAMC,UAApB,aAAAC,QAAsD,IAATX,MAA7C,UAXIP,kBAAA,WACD,GAAAI,UAAAU,UAAAU,SAAA,eAID7B,OAWAS,UAAUU,UAAUC,OAAO,eAd3BpB,iBAAUmB,UAAc,YAExBT,aAAaoB,aAACC,iBAAoB,GAiBpCtB,UAAUU,UAAUO,IAAI,eAbxBd,iBAAQoB,UAAA,YACRtB,aAAaoB,aAACG,iBAAiB,IAGhChC,YAhBDiC,QAAA,SAAAC,GA+BEA,EAAWF,iBAAiB,QAASpB,qBAZrCR,WAAII,iBAAoBoB,QAASL,iBAC/Bf,aAASwB,iBAAT,QAA2BR","file":"menu.js","sourcesContent":["const menuButtons = [...document.querySelectorAll(\".menu__list-item-button\")];\r\nconst backButton = document.querySelector(\".slide__back\");\r\nconst toggleButton = document.querySelector(\".slide__toggle\");\r\nconst toggleButtonIcon = document.querySelector(\".slide__toggle-icon\");\r\nconst offCanvas = document.querySelector(\".slide\");\r\nconst rootMenuLevel = document.querySelector(\".menu__list--root\");\r\nconst title = document.querySelector(\".slide__title\");\r\nlet level = 0;\r\nlet shownMenu;\r\n\r\nconst handleButtonClick = () => {\r\n  const childMenu = event.currentTarget.parentElement\r\n    .closest(\".menu__list-item\")\r\n    .querySelector(\".menu__list\");\r\n\r\n  if (!childMenu) {\r\n    handleToggleClick();\r\n    return;\r\n  }\r\n\r\n  level++;\r\n  childMenu.classList.remove(\"menu__list--hidden\");\r\n  backButton.classList.remove(\"slide__back--hidden\");\r\n  rootMenuLevel.style.transform = `translate(${level * -100}%, 0)`;\r\n  shownMenu = childMenu;\r\n};\r\n\r\nconst handleBackClick = () => {\r\n  const parentMenu = shownMenu.parentElement.closest(\".menu__list\");\r\n  const hideAfterTransition = () => {\r\n    if (level <= 0) {\r\n      backButton.classList.add(\"slide__back--hidden\");\r\n    }\r\n    shownMenu.classList.add(\"menu__list--hidden\");\r\n\r\n    rootMenuLevel.removeEventListener(\"transitionend\", hideAfterTransition);\r\n    shownMenu = parentMenu;\r\n  };\r\n\r\n  level = level > 0 ? level - 1 : level;\r\n  rootMenuLevel.addEventListener(\"transitionend\", hideAfterTransition);\r\n  parentMenu.classList.remove(\"menu__list--hidden\");\r\n  rootMenuLevel.style.transform = `translate(${level * -100}%, 0)`;\r\n};\r\n\r\nconst handleToggleClick = () => {\r\n  if (offCanvas.classList.contains(\"slide--open\")) {\r\n    offCanvas.classList.remove(\"slide--open\");\r\n    toggleButtonIcon.innerHTML = \"menu\";\r\n    toggleButton.setAttribute(\"aria-expanded\", false);\r\n    return;\r\n  }\r\n  offCanvas.classList.add(\"slide--open\");\r\n  toggleButtonIcon.innerHTML = \"menu_open\";\r\n  toggleButton.setAttribute(\"aria-expanded\", true);\r\n};\r\n\r\nmenuButtons.forEach((menuButton) => {\r\n  menuButton.addEventListener(\"click\", handleButtonClick);\r\n});\r\nbackButton.addEventListener(\"click\", handleBackClick);\r\ntoggleButton.addEventListener(\"click\", handleToggleClick);\r\n"]}