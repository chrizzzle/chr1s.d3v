{"version":3,"sources":["slide-menu/src/js/menu.js"],"names":["backButton","menuButtons","_toConsumableArray","document","querySelectorAll","querySelector","toggleButton","toggleButtonIcon","offCanvas","rootMenuLevel","title","body","parentElement","level","handleToggleClick","childMenu","classList","remove","style","transform","concat","shownMenu","parentMenu","closest","addEventListener","handleBackClick","hideAfterTransition","add","contains","innerHTML","setAttribute","forEach","menuButton"],"mappings":"q+BAAA,IACMA,UADAC,YAAWC,mBAAOC,SAASC,iBAAiB,yBAAyB,CAAC,EACtEJ,WAAaG,SAASE,cAAc,cAAc,EAClDC,aAAeH,SAASE,cAAc,gBAAgB,EACtDE,iBAAmBJ,SAASE,cAAc,qBAAqB,EAC/DG,UAAYL,SAASE,cAAc,QAAQ,EAC3CI,cAAgBN,SAASE,cAAc,mBAAmB,EAC1DK,MAAQP,SAASE,cAAc,eAAe,EAC9CM,KAAOR,SAASE,cAAc,OAAO,EAPrCJ,MAAAA,EAGAM,kBAAmBJ,SAAAA,GACnBK,EAAYL,EAASE,cAAcO,cACnCH,QAAAA,kBAAyBJ,EACzBK,cAAQP,aAASE,EAEnBQ,GAaFA,KAJEC,GAKFC,EAJEC,UAAAC,OAAA,oBAAA,EACFjB,WAAAgB,UAAAC,OAAA,qBAAA,EAEAJ,cAAOK,MAAAC,UAAA,aAAAC,OAAA,CAAA,IAAAP,MAAA,OAAA,EACPE,UAAUC,GAbRK,kBAAS,CAiBb,EADEA,gBAAqB,WACtB,IAAAC,EAAAD,UAAAT,cAAAW,QAAA,aAAA,EAcCV,MAAgB,EAARA,MAAYA,MAAQ,EAAIA,MAChCJ,cAAce,iBAAiB,gBAbT,SAAlBC,IACEH,OAAU,GACVI,WAAAA,UAAmBC,IAAG,qBAAtBD,EAIJL,UAFErB,UAAWgB,IAAUW,oBAAI,EAE3BN,cAAUL,oBAAc,gBAAqBU,CAAA,EAE7CjB,UAAAA,CAEF,CAGmE,EACnEa,EAAWN,UAAUC,OAAO,oBAAoB,EAChDR,cAAcS,MAAMC,UAAS,aAAAC,OAAgBP,CAAAA,IAAhBO,MAAqB,OAAA,CACpD,EAGMZ,kBAAoBoB,WACtBpB,UAAUQ,UAAUC,SAAO,aAAc,GACzCV,UAAAA,UAAiBsB,OAAS,aAAS,EACnCvB,iBAAawB,UAAa,OAC1BnB,aAAKK,aAAiB,gBAAc,CAAA,CAAA,EACpCL,KAAAK,UAAAC,OAAA,aAAA,IAGFV,UAAAA,UAAiBsB,IAAAA,aAAY,EAC7BvB,iBAAawB,UAAa,YAC1BnB,aAAKK,aAAc,gBAAc,CAAA,CAAA,EAClCL,KAAAK,UAAAW,IAAA,aAAA,EAED1B,EAEAA,YAAE8B,QAAA,SAAAC,GACFhC,EAAWwB,iBAAiB,QAASC,iBAAgB,CACrDnB,CAAAA,EADAN,WAAWwB,iBAAiB,QAASC,eAAe,EACpDnB,aAAakB,iBAAiB,QAASV,iBAAiB","file":"menu.js","sourcesContent":["const menuButtons = [...document.querySelectorAll(\".menu__list-item-button\")];\r\nconst backButton = document.querySelector(\".slide__back\");\r\nconst toggleButton = document.querySelector(\".slide__toggle\");\r\nconst toggleButtonIcon = document.querySelector(\".slide__toggle-icon\");\r\nconst offCanvas = document.querySelector(\".slide\");\r\nconst rootMenuLevel = document.querySelector(\".menu__list--root\");\r\nconst title = document.querySelector(\".slide__title\");\r\nconst body = document.querySelector(\".body\");\r\nlet level = 0;\r\nlet shownMenu;\r\n\r\nconst handleButtonClick = (event) => {\r\n  const childMenu = event.currentTarget.parentElement\r\n    .closest(\".menu__list-item\")\r\n    .querySelector(\".menu__list\");\r\n\r\n  if (!childMenu) {\r\n    handleToggleClick();\r\n    return;\r\n  }\r\n\r\n  level++;\r\n  childMenu.classList.remove(\"menu__list--hidden\");\r\n  backButton.classList.remove(\"slide__back--hidden\");\r\n  rootMenuLevel.style.transform = `translate(${level * -100}%, 0)`;\r\n  shownMenu = childMenu;\r\n};\r\n\r\nconst handleBackClick = () => {\r\n  const parentMenu = shownMenu.parentElement.closest(\".menu__list\");\r\n  const hideAfterTransition = () => {\r\n    if (level <= 0) {\r\n      backButton.classList.add(\"slide__back--hidden\");\r\n    }\r\n    shownMenu.classList.add(\"menu__list--hidden\");\r\n\r\n    rootMenuLevel.removeEventListener(\"transitionend\", hideAfterTransition);\r\n    shownMenu = parentMenu;\r\n  };\r\n\r\n  level = level > 0 ? level - 1 : level;\r\n  rootMenuLevel.addEventListener(\"transitionend\", hideAfterTransition);\r\n  parentMenu.classList.remove(\"menu__list--hidden\");\r\n  rootMenuLevel.style.transform = `translate(${level * -100}%, 0)`;\r\n};\r\n\r\nconst handleToggleClick = () => {\r\n  if (offCanvas.classList.contains(\"slide--open\")) {\r\n    offCanvas.classList.remove(\"slide--open\");\r\n    toggleButtonIcon.innerHTML = \"menu\";\r\n    toggleButton.setAttribute(\"aria-expanded\", false);\r\n    body.classList.remove(\"body--fixed\");\r\n    return;\r\n  }\r\n  offCanvas.classList.add(\"slide--open\");\r\n  toggleButtonIcon.innerHTML = \"menu_open\";\r\n  toggleButton.setAttribute(\"aria-expanded\", true);\r\n  body.classList.add(\"body--fixed\");\r\n};\r\n\r\nmenuButtons.forEach((menuButton) => {\r\n  menuButton.addEventListener(\"click\", handleButtonClick);\r\n});\r\nbackButton.addEventListener(\"click\", handleBackClick);\r\ntoggleButton.addEventListener(\"click\", handleToggleClick);\r\n"]}