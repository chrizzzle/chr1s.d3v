{"version":3,"sources":["slide-menu/src/js/menu.js"],"names":["shownMenu","menuButtons","_toConsumableArray","document","querySelectorAll","backButton","querySelector","toggleButton","toggleButtonIcon","offCanvas","rootMenuLevel","title","body","level","handleButtonClick","event","childMenu","currentTarget","parentElement","closest","classList","remove","style","transform","concat","handleBackClick","handleToggleClick","add","hideAfterTransition","parentMenu","contains","setAttribute","removeEventListener","addEventListener","menuButton","innerHTML"],"mappings":"69BAAA,IASIA,UATEC,YAAWC,mBAAOC,SAASC,iBAAiB,4BAC5CC,WAAaF,SAASG,cAAc,gBACpCC,aAAeJ,SAASG,cAAc,kBACtCE,iBAAmBL,SAASG,cAAc,uBAC1CG,UAAYN,SAASG,cAAc,UACnCI,cAAgBP,SAASG,cAAc,qBACvCK,MAAQR,SAASG,cAAc,iBAC/BM,KAAOT,SAASG,cAAc,SAChCO,MAAQ,EAGNC,kBAAoB,SAACC,GACzB,IAAMC,EAAYD,EAAME,cAAcC,cACnCC,QAAQ,oBAbPlB,cAAW,eACXI,GAKNQ,QACAG,EAAab,UAASG,OAAAA,sBACtBD,WAAAe,UAAAC,OAAA,uBACAX,cAAAY,MAAAC,UAAA,aAAAC,QAAA,IAAAX,MAAA,SAgBEb,UAAYgB,GAvBRT,qBA0BAkB,gBAAkB,WAZtB,IAAKT,EAAWhB,UAAAkB,cAAAC,QAAA,eAwBhBN,MAAgB,EAARA,MAAYA,MAAQ,EAAIA,MAZlCH,cAAMe,iBAAAA,gBAXe,SAAjBC,IACAb,OAAA,GACDR,WAAAe,UAAAO,IAAA,uBAEDd,UAAKO,UAAAO,IAAA,sBAELtB,cAAWe,oBAAiB,gBAA5BQ,GACAlB,UAAcY,IAKdO,EAAMA,UAAa7B,OAAUkB,sBAc7BR,cAAcY,MAAMC,UAApB,aAAAC,QAAsD,IAATX,MAA7C,UAXIR,kBAAA,WACD,GAAAI,UAAAW,UAAAU,SAAA,eAHH,OAkBErB,UAAUW,UAAUC,OAAO,eAd3BrB,iBAAUoB,UAAc,OAExBV,aAAaqB,aAACC,iBAAoB,QAClChC,KAAAA,UAAY6B,OAAZ,eAGFhB,UAAQA,UAAYA,IAAAA,eACpBH,iBAAcuB,UAAAA,YACdJ,aAAWT,aAAUC,iBAAO,GAC5BX,KAAAA,UAAcY,IAAd,gBAGFrB,YAAMyB,QAAAA,SAAiBQ,GACrBA,EAAIzB,iBAAoBqB,QAAShB,qBAE/BN,WAAAA,iBAAiB2B,QAAYV,iBAC7BlB,aAAAA,iBAA0B,QAAAmB","file":"menu.js","sourcesContent":["const menuButtons = [...document.querySelectorAll(\".menu__list-item-button\")];\r\nconst backButton = document.querySelector(\".slide__back\");\r\nconst toggleButton = document.querySelector(\".slide__toggle\");\r\nconst toggleButtonIcon = document.querySelector(\".slide__toggle-icon\");\r\nconst offCanvas = document.querySelector(\".slide\");\r\nconst rootMenuLevel = document.querySelector(\".menu__list--root\");\r\nconst title = document.querySelector(\".slide__title\");\r\nconst body = document.querySelector(\".body\");\r\nlet level = 0;\r\nlet shownMenu;\r\n\r\nconst handleButtonClick = (event) => {\r\n  const childMenu = event.currentTarget.parentElement\r\n    .closest(\".menu__list-item\")\r\n    .querySelector(\".menu__list\");\r\n\r\n  if (!childMenu) {\r\n    handleToggleClick();\r\n    return;\r\n  }\r\n\r\n  level++;\r\n  childMenu.classList.remove(\"menu__list--hidden\");\r\n  backButton.classList.remove(\"slide__back--hidden\");\r\n  rootMenuLevel.style.transform = `translate(${level * -100}%, 0)`;\r\n  shownMenu = childMenu;\r\n};\r\n\r\nconst handleBackClick = () => {\r\n  const parentMenu = shownMenu.parentElement.closest(\".menu__list\");\r\n  const hideAfterTransition = () => {\r\n    if (level <= 0) {\r\n      backButton.classList.add(\"slide__back--hidden\");\r\n    }\r\n    shownMenu.classList.add(\"menu__list--hidden\");\r\n\r\n    rootMenuLevel.removeEventListener(\"transitionend\", hideAfterTransition);\r\n    shownMenu = parentMenu;\r\n  };\r\n\r\n  level = level > 0 ? level - 1 : level;\r\n  rootMenuLevel.addEventListener(\"transitionend\", hideAfterTransition);\r\n  parentMenu.classList.remove(\"menu__list--hidden\");\r\n  rootMenuLevel.style.transform = `translate(${level * -100}%, 0)`;\r\n};\r\n\r\nconst handleToggleClick = () => {\r\n  if (offCanvas.classList.contains(\"slide--open\")) {\r\n    offCanvas.classList.remove(\"slide--open\");\r\n    toggleButtonIcon.innerHTML = \"menu\";\r\n    toggleButton.setAttribute(\"aria-expanded\", false);\r\n    body.classList.remove(\"body--fixed\");\r\n    return;\r\n  }\r\n  offCanvas.classList.add(\"slide--open\");\r\n  toggleButtonIcon.innerHTML = \"menu_open\";\r\n  toggleButton.setAttribute(\"aria-expanded\", true);\r\n  body.classList.add(\"body--fixed\");\r\n};\r\n\r\nmenuButtons.forEach((menuButton) => {\r\n  menuButton.addEventListener(\"click\", handleButtonClick);\r\n});\r\nbackButton.addEventListener(\"click\", handleBackClick);\r\ntoggleButton.addEventListener(\"click\", handleToggleClick);\r\n"]}