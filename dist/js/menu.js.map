{"version":3,"sources":["slide-menu/src/js/menu.js"],"names":["backButton","menuButtons","_toConsumableArray","document","querySelectorAll","querySelector","toggleButton","toggleButtonIcon","offCanvas","rootMenuLevel","title","body","parentElement","level","handleToggleClick","childMenu","classList","remove","style","transform","concat","shownMenu","parentMenu","closest","addEventListener","handleBackClick","hideAfterTransition","add","contains","innerHTML","setAttribute","forEach","menuButton"],"mappings":"q+BAAA,IACMA,UADAC,YAAWC,mBAAOC,SAASC,iBAAiB,yBAAyB,CAAC,EACtEJ,WAAaG,SAASE,cAAc,cAAc,EAClDC,aAAeH,SAASE,cAAc,gBAAgB,EACtDE,iBAAmBJ,SAASE,cAAc,qBAAqB,EAC/DG,UAAYL,SAASE,cAAc,QAAQ,EAC3CI,cAAgBN,SAASE,cAAc,mBAAmB,EAC1DK,MAAQP,SAASE,cAAc,eAAe,EAC9CM,KAAOR,SAASE,cAAc,OAAO,EAPrCJ,MAAAA,EAGAM,kBAAmBJ,SAAAA,GACnBK,EAAYL,EAASE,cAAcO,cACnCH,QAAAA,kBAAyBJ,EACzBK,cAAQP,aAASE,EAEnBQ,GAaFA,KAJEC,GAKFC,EAJEC,UAAAC,OAAA,oBAAA,EACFjB,WAAAgB,UAAAC,OAAA,qBAAA,EAEAJ,cAAOK,MAAAC,UAAA,aAAAC,OAAA,CAAA,IAAAP,MAAA,OAAA,EACPE,UAAUC,GAbRK,kBAAS,CAiBb,EADEA,gBAAqB,WACtB,IAAAC,EAAAD,UAAAT,cAAAW,QAAA,aAAA,EAcCV,MAAgB,EAARA,MAAYA,MAAQ,EAAIA,MAChCJ,cAAce,iBAAiB,gBAbT,SAAlBC,IACEH,OAAU,GACVI,WAAAA,UAAmBC,IAAG,qBAAtBD,EAIJL,UAFErB,UAAWgB,IAAUW,oBAAI,EAE3BN,cAAUL,oBAAc,gBAAqBU,CAAA,EAE7CjB,UAAAA,CAEF,CAGmE,EACnEa,EAAWN,UAAUC,OAAO,oBAAoB,EAChDR,cAAcS,MAAMC,UAAS,aAAAC,OAAgBP,CAAAA,IAAhBO,MAAqB,OAAA,CACpD,EAGMZ,kBAAoBoB,WACtBpB,UAAUQ,UAAUC,SAAO,aAAc,GACzCV,UAAAA,UAAiBsB,OAAS,aAAS,EACnCvB,iBAAawB,UAAa,OAC1BnB,aAAKK,aAAiB,gBAAc,CAAA,CAAA,EACpCL,KAAAK,UAAAC,OAAA,aAAA,IAGFV,UAAAA,UAAiBsB,IAAAA,aAAY,EAC7BvB,iBAAawB,UAAa,YAC1BnB,aAAKK,aAAc,gBAAc,CAAA,CAAA,EAClCL,KAAAK,UAAAW,IAAA,aAAA,EAED1B,EAEAA,YAAE8B,QAAA,SAAAC,GACFhC,EAAWwB,iBAAiB,QAASC,iBAAgB,CACrDnB,CAAAA,EADAN,WAAWwB,iBAAiB,QAASC,eAAe,EACpDnB,aAAakB,iBAAiB,QAASV,iBAAiB","file":"menu.js","sourcesContent":["const menuButtons = [...document.querySelectorAll(\".menu__list-item-button\")];\nconst backButton = document.querySelector(\".slide__back\");\nconst toggleButton = document.querySelector(\".slide__toggle\");\nconst toggleButtonIcon = document.querySelector(\".slide__toggle-icon\");\nconst offCanvas = document.querySelector(\".slide\");\nconst rootMenuLevel = document.querySelector(\".menu__list--root\");\nconst title = document.querySelector(\".slide__title\");\nconst body = document.querySelector(\".body\");\nlet level = 0;\nlet shownMenu;\n\nconst handleButtonClick = (event) => {\n  const childMenu = event.currentTarget.parentElement\n    .closest(\".menu__list-item\")\n    .querySelector(\".menu__list\");\n\n  if (!childMenu) {\n    handleToggleClick();\n    return;\n  }\n\n  level++;\n  childMenu.classList.remove(\"menu__list--hidden\");\n  backButton.classList.remove(\"slide__back--hidden\");\n  rootMenuLevel.style.transform = `translate(${level * -100}%, 0)`;\n  shownMenu = childMenu;\n};\n\nconst handleBackClick = () => {\n  const parentMenu = shownMenu.parentElement.closest(\".menu__list\");\n  const hideAfterTransition = () => {\n    if (level <= 0) {\n      backButton.classList.add(\"slide__back--hidden\");\n    }\n    shownMenu.classList.add(\"menu__list--hidden\");\n\n    rootMenuLevel.removeEventListener(\"transitionend\", hideAfterTransition);\n    shownMenu = parentMenu;\n  };\n\n  level = level > 0 ? level - 1 : level;\n  rootMenuLevel.addEventListener(\"transitionend\", hideAfterTransition);\n  parentMenu.classList.remove(\"menu__list--hidden\");\n  rootMenuLevel.style.transform = `translate(${level * -100}%, 0)`;\n};\n\nconst handleToggleClick = () => {\n  if (offCanvas.classList.contains(\"slide--open\")) {\n    offCanvas.classList.remove(\"slide--open\");\n    toggleButtonIcon.innerHTML = \"menu\";\n    toggleButton.setAttribute(\"aria-expanded\", false);\n    body.classList.remove(\"body--fixed\");\n    return;\n  }\n  offCanvas.classList.add(\"slide--open\");\n  toggleButtonIcon.innerHTML = \"menu_open\";\n  toggleButton.setAttribute(\"aria-expanded\", true);\n  body.classList.add(\"body--fixed\");\n};\n\nmenuButtons.forEach((menuButton) => {\n  menuButton.addEventListener(\"click\", handleButtonClick);\n});\nbackButton.addEventListener(\"click\", handleBackClick);\ntoggleButton.addEventListener(\"click\", handleToggleClick);\n"]}