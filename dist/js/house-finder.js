"use strict";for(var resultField,totalMax,ranges=document.querySelectorAll(".form__range"),scoreField=document.querySelector(".form__score"),radios=document.querySelectorAll(".form__radio"),maxPriceField=document.getElementById("max-price"),idealSpaceField=document.getElementById("ideal-space-house"),idealSpacePropertyField=document.getElementById("ideal-space-property"),priceField=document.getElementById("price"),spaceField=document.getElementById("space-house"),spacePropertyField=document.getElementById("space-property"),calcScore=function(){for(var e,t,r,a,i,n=0,o=0,l=0;l<ranges.length;l++)e=parseInt(ranges[l].getAttribute("max"),10),r=!!ranges[l].dataset.inverse,i=ranges[l].closest(".form__group").querySelector(".form__radio:checked").value,i=parseInt(i,10),t=parseInt(ranges[l].value,10),o+=i,a=r?1-t/e:t/e,n+=a*=i;return n/o},setResult=function(e){return function(){(resultField=e.closest(".form__group").querySelector(".form__result")).innerHTML=e.value,scoreField.innerHTML=Math.round(100*calcScore())+"/ 100"}},i=0;i<ranges.length;i++)ranges[i].addEventListener("input",setResult(ranges[i])),setResult(ranges[i])(),totalMax+=parseInt(ranges[i].getAttribute("max"),10);for(var _loop=function(e){var t=void 0;radios[e].addEventListener("input",function(){scoreField.innerHTML=Math.round(100*calcScore())+"/ 100",t=radios[e].closest(".form__group").querySelector(".form__range"),setResult(t)()})},_i=0;_i<radios.length;_i++)_loop(_i);maxPriceField.addEventListener("change",function(){priceField.setAttribute("max",maxPriceField.value)}),idealSpaceField.addEventListener("change",function(){spaceField.setAttribute("max",idealSpaceField.value)}),idealSpacePropertyField.addEventListener("change",function(){spacePropertyField.setAttribute("max",idealSpacePropertyField.value)});