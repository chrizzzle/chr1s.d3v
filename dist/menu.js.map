{"version":3,"sources":["menu.js"],"names":["menuButtons","_toConsumableArray","document","querySelectorAll","backButton","querySelector","toggleButton","toggleButtonIcon","offCanvas","rootMenuLevel","title","level","handleButtonClick","childMenu","event","currentTarget","parentElement","closest","listShown","classList","remove","transform","currentMenu","addEventListener","style","add","handleBackClick","removeEventListener","hideAfterTransition","parentMenu","innerHTML","setAttribute","contains","forEach","menuButton","handleToggleClick"],"mappings":"69BAAA,IAAMA,YAAWC,mBAAOC,SAASC,iBAAiB,4BAC5CC,WAAaF,SAASG,cAAc,gBACpCC,aAAeJ,SAASG,cAAc,kBACtCE,iBAAmBL,SAASG,cAAc,uBAC1CG,UAAYN,SAASG,cAAc,UACnCI,cAAgBP,SAASG,cAAc,qBACvCK,MAAQR,SAASG,cAAc,iBACjCM,MAAQ,EAENC,kBAAoB,WACxB,IAAMC,EAAYC,MAAMC,cAAcC,cACnCC,QAAQ,oBACRZ,cAAc,eAZbL,EAAWE,SAAAG,cAAOH,sBAetBgB,GAAaA,EAAUC,UAAUC,OAAO,qBAb1CT,QAEAE,EAAML,UAAYN,OAASG,sBAC3BQ,EAAMJ,UAAgBP,IAAAA,qBAEtBE,WAAAe,UAAAC,OAAA,uBAEAX,cAAMG,MAAiBS,UAAjBT,cAA0B,IAA1BA,MAA0B,SAM9BM,gBAAsB,WAEtBP,IAAKW,EAAApB,SAAAG,cAAA,sBAELQ,EAAAS,EAA2BN,cAAAC,QAA3B,eAYEN,MAAc,EAAVA,MAAaA,MAAA,EAAAA,MAEhBF,cAAAc,iBAAA,gBAbqB,SAAxBV,IAEWM,IAAXf,OAEAK,WAAce,UAAMH,IAApB,uBAUEC,EAAYH,UAAUM,IAAI,sBAPxBC,EAAAA,UAAkBN,OAAlBM,qBAEJjB,cAAgBkB,oBAAeX,gBAAsBY,KAKnDN,EAAAA,UAAYH,OAAc,sBAC1BG,EAAAA,UAAYH,IAAUC,qBAGvBX,cARDe,MAAAH,UAAA,cAAA,IAAAV,MAAA,SAYAF,kBAAcc,WAEdM,GAAAA,UAAWV,UAAUC,SAAO,eAW1B,OAVFS,UAAWV,UAAUM,OAAI,eAEzBhB,iBAAAqB,UAAA,YApBFxB,aAAAyB,aAAA,iBAAA,GAwBEvB,UAAIA,UAAUW,IAAUa,eACtBxB,iBAAUW,UAAiB,YAC3BZ,aAAAA,aAAiBuB,iBAAjB,IAGD9B,YAAAiC,QAAA,SAAAC,GAODA,EAAWX,iBAAiB,QAASX,qBALrCL,WAAAA,iBAAA,QAA6BmB,iBAC7BpB,aAAAA,iBAA0B,QAAA6B","file":"menu.js","sourcesContent":["const menuButtons = [...document.querySelectorAll(\".menu__list-item-button\")];\r\nconst backButton = document.querySelector(\".slide__back\");\r\nconst toggleButton = document.querySelector(\".slide__toggle\");\r\nconst toggleButtonIcon = document.querySelector(\".slide__toggle-icon\");\r\nconst offCanvas = document.querySelector(\".slide\");\r\nconst rootMenuLevel = document.querySelector(\".menu__list--root\");\r\nconst title = document.querySelector(\".slide__title\");\r\nlet level = 0;\r\n\r\nconst handleButtonClick = () => {\r\n  const childMenu = event.currentTarget.parentElement\r\n    .closest(\".menu__list-item\")\r\n    .querySelector(\".menu__list\");\r\n\r\n  const listShown = document.querySelector(\".menu__list--shown\");\r\n  listShown && listShown.classList.remove(\"menu__list--shown\");\r\n\r\n  level++;\r\n\r\n  childMenu.classList.remove(\"menu__list--hidden\");\r\n  childMenu.classList.add(\"menu__list--shown\");\r\n\r\n  backButton.classList.remove(\"slide__back--hidden\");\r\n\r\n  rootMenuLevel.style.transform = \"translate(\" + level * -100 + \"%, 0)\";\r\n};\r\n\r\nconst handleBackClick = () => {\r\n  const currentMenu = document.querySelector(\".menu__list--shown\");\r\n  const parentMenu = currentMenu.parentElement.closest(\".menu__list\");\r\n  const hideAfterTransition = () => {\r\n    if (level === 0) {\r\n      backButton.classList.add(\"slide__back--hidden\");\r\n    }\r\n    currentMenu.classList.add(\"menu__list--hidden\");\r\n    currentMenu.classList.remove(\"menu__list--shown\");\r\n\r\n    rootMenuLevel.removeEventListener(\"transitionend\", hideAfterTransition);\r\n  };\r\n\r\n  level = level > 0 ? level - 1 : level;\r\n\r\n  rootMenuLevel.addEventListener(\"transitionend\", hideAfterTransition);\r\n\r\n  parentMenu.classList.remove(\"menu__list--hidden\");\r\n  parentMenu.classList.add(\"menu__list--shown\");\r\n\r\n  rootMenuLevel.style.transform = \"translate(\" + level * -100 + \"%, 0)\";\r\n};\r\n\r\nconst handleToggleClick = () => {\r\n  if (offCanvas.classList.contains(\"slide--open\")) {\r\n    offCanvas.classList.remove(\"slide--open\");\r\n    toggleButtonIcon.innerHTML = \"menu\";\r\n    toggleButton.setAttribute(\"aria-expanded\", false);\r\n    return;\r\n  }\r\n  offCanvas.classList.add(\"slide--open\");\r\n  toggleButtonIcon.innerHTML = \"menu_open\";\r\n  toggleButton.setAttribute(\"aria-expanded\", true);\r\n};\r\n\r\nmenuButtons.forEach((menuButton) => {\r\n  menuButton.addEventListener(\"click\", handleButtonClick);\r\n});\r\nbackButton.addEventListener(\"click\", handleBackClick);\r\ntoggleButton.addEventListener(\"click\", handleToggleClick);\r\n"]}