{"version":3,"sources":["menu.js"],"names":["menuButtons","_toConsumableArray","document","querySelectorAll","backButton","querySelector","toggleButton","toggleButtonIcon","offCanvas","rootMenuLevel","title","level","handleButtonClick","childMenu","event","currentTarget","parentElement","closest","listShown","remove","style","transform","handleToggleClick","classList","parentMenu","currentMenu","hideAfterTransition","addEventListener","add","removeEventListener","contains","forEach","menuButton","handleBackClick"],"mappings":"69BAAA,IAAMA,YAAWC,mBAAOC,SAASC,iBAAiB,4BAC5CC,WAAaF,SAASG,cAAc,gBACpCC,aAAeJ,SAASG,cAAc,kBACtCE,iBAAmBL,SAASG,cAAc,uBAC1CG,UAAYN,SAASG,cAAc,UACnCI,cAAgBP,SAASG,cAAc,qBACvCK,MAAQR,SAASG,cAAc,iBACjCM,MAAQ,EAENC,kBAAoB,WACxB,IAAMC,EAAYC,MAAMC,cAAcC,cACnCC,QAAQ,oBACRZ,cAAc,eAZbL,GAAAA,EAAAA,CAIN,IAAMQ,EAAYN,SAASG,cAAc,sBACzCa,GAAMT,EAAgBP,UAASG,OAAT,qBAEtBM,QAEAE,EAAMD,UAAiBO,OAAG,sBACxBN,EAAMA,UAAYC,IAAMC,qBAItBX,WAAKS,UAAWM,OAAA,uBAEdV,cAAAW,MAAAC,UAAA,cAAA,IAAAV,MAAA,aADAW,qBAIEJ,gBAAYhB,WAClBgB,IAAAA,EAAaA,SAAUK,cAAiB,sBAEnCC,EAAAC,EAAAT,cAAAC,QAAA,eAaLN,MAAMe,EAAAA,MAAAA,MAAsB,EAAAf,MAExBP,cAAUuB,iBAAe,gBAbF,SAA3Bd,IACUU,IAAVV,OAEAT,WAAWmB,UAAUJ,IAAO,uBAlB9BM,EAAAF,UAAAK,IAAA,sBA+BIH,EAAYF,UAAUJ,OAAO,qBAP/BV,cAAiBoB,oBAAYxB,gBAAcqB,KAgB3CF,EAAWD,UAAUJ,OAAO,sBAV1BM,EAAAA,UAAYF,IAAUK,qBAGtBnB,cAAAA,MAAcoB,UAAAA,cAAqCH,IAAjBf,MAAiBe,SAGrDf,kBAAoBA,WAEpBF,GAAAA,UAAckB,UAAAA,SAAiB,eAfjC,OAiBEH,UAAWD,UAAUJ,OAAO,eAC5BK,iBAAWD,UAAc,YAEzBd,aAAcW,aAAMC,iBAAY,GAGlCb,UAAMc,UAAiBM,IAAG,eACxBrB,iBAAcgB,UAAUO,YACtBtB,aAAUe,aAAUJ,iBAApB,IAGAnB,YAAA+B,QAAA,SAAAC,GACDA,EAAAL,iBAAA,QAAAf,qBACDJ,WAASmB,iBAAe,QAAAM,iBACxB1B,aAAAA,iBAAA,QAA6Be","file":"menu.js","sourcesContent":["const menuButtons = [...document.querySelectorAll(\".menu__list-item-button\")];\r\nconst backButton = document.querySelector(\".slide__back\");\r\nconst toggleButton = document.querySelector(\".slide__toggle\");\r\nconst toggleButtonIcon = document.querySelector(\".slide__toggle-icon\");\r\nconst offCanvas = document.querySelector(\".slide\");\r\nconst rootMenuLevel = document.querySelector(\".menu__list--root\");\r\nconst title = document.querySelector(\".slide__title\");\r\nlet level = 0;\r\n\r\nconst handleButtonClick = () => {\r\n  const childMenu = event.currentTarget.parentElement\r\n    .closest(\".menu__list-item\")\r\n    .querySelector(\".menu__list\");\r\n\r\n    if (!childMenu) {\r\n      handleToggleClick();\r\n      return;\r\n    }\r\n\r\n  const listShown = document.querySelector(\".menu__list--shown\");\r\n  listShown && listShown.classList.remove(\"menu__list--shown\");\r\n\r\n  level++;\r\n\r\n  childMenu.classList.remove(\"menu__list--hidden\");\r\n  childMenu.classList.add(\"menu__list--shown\");\r\n\r\n  backButton.classList.remove(\"slide__back--hidden\");\r\n\r\n  rootMenuLevel.style.transform = \"translate(\" + level * -100 + \"%, 0)\";\r\n};\r\n\r\nconst handleBackClick = () => {\r\n  const currentMenu = document.querySelector(\".menu__list--shown\");\r\n  const parentMenu = currentMenu.parentElement.closest(\".menu__list\");\r\n  const hideAfterTransition = () => {\r\n    if (level === 0) {\r\n      backButton.classList.add(\"slide__back--hidden\");\r\n    }\r\n    currentMenu.classList.add(\"menu__list--hidden\");\r\n    currentMenu.classList.remove(\"menu__list--shown\");\r\n\r\n    rootMenuLevel.removeEventListener(\"transitionend\", hideAfterTransition);\r\n  };\r\n\r\n  level = level > 0 ? level - 1 : level;\r\n\r\n  rootMenuLevel.addEventListener(\"transitionend\", hideAfterTransition);\r\n\r\n  parentMenu.classList.remove(\"menu__list--hidden\");\r\n  parentMenu.classList.add(\"menu__list--shown\");\r\n\r\n  rootMenuLevel.style.transform = \"translate(\" + level * -100 + \"%, 0)\";\r\n};\r\n\r\nconst handleToggleClick = () => {\r\n  if (offCanvas.classList.contains(\"slide--open\")) {\r\n    offCanvas.classList.remove(\"slide--open\");\r\n    toggleButtonIcon.innerHTML = \"menu\";\r\n    toggleButton.setAttribute(\"aria-expanded\", false);\r\n    return;\r\n  }\r\n  offCanvas.classList.add(\"slide--open\");\r\n  toggleButtonIcon.innerHTML = \"menu_open\";\r\n  toggleButton.setAttribute(\"aria-expanded\", true);\r\n};\r\n\r\nmenuButtons.forEach((menuButton) => {\r\n  menuButton.addEventListener(\"click\", handleButtonClick);\r\n});\r\nbackButton.addEventListener(\"click\", handleBackClick);\r\ntoggleButton.addEventListener(\"click\", handleToggleClick);\r\n"]}